<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_frogFriend</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>o_physicsObject</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// override inherited vars

// collision bounds
tb = 8;
lb = 8;
rb = 8;
bb = 9;

// other_solid0 = o_water;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed = 0.05;

self.ami_singing = false;

self.equilibrium = false;

self.splashing = false;

self.was_on_dirt = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// player input
var horizontal_input = 0;
if (o_player.mode == "riding" and o_player.mount == self) {
    if (keyboard_check(global.INPUT_RIGHT)) {
        image_xscale = 1;
        xvel += xacc;
        if (xvel &gt; terminal_xvel) 
            xvel = terminal_xvel;
        horizontal_input = 1;
    }
    else if (keyboard_check(global.INPUT_LEFT)) {
        image_xscale = -1;
        xvel -= xacc;
        if (xvel &lt; -terminal_xvel)
            xvel = -terminal_xvel;
        horizontal_input = -1;            
    } else {
        if (xvel &gt; 0) {
            xvel -= xacc;
            if (xvel &lt; 0)
                xvel = 0;
        } else if (xvel &lt; 0) {
            xvel += xacc;
            if (xvel &gt; 0)
                xvel = 0;
        }
    }
    
    if (keyboard_check_pressed(global.INPUT_UP)) {
        if (on_ground) {
            yvel = -5;
        }
        self.splashing = false;
        if (horizontal_input) {
            xvel = xvel + horizontal_input*1;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// interact with water
if (yvel &gt; 2) equilibrium = false;
if (yvel &lt; -3) equilibrium = false;

var water_vel = 4;
var water_exit_vel = 3;

// bottom collision
water = collision_rectangle(x-lb/2, y, x+rb/2, y+bb-8, o_water, false, true);
if (water) {
    // we want to push up if we're touching water
    if (yvel &gt; 2) yvel = 2; // dampen starting downward velocity
    // continuously push upwards
    yvel -= 1;
    // but enforce a limit
    if (yvel &lt; -water_vel)
        yvel = -water_vel;
    self.splashing = true;
}

// check to see if we're colliding with only the surface
water_surface = collision_rectangle(x-lb/2, y, x+rb/2, y+bb-4, o_water, false, true);
if (water_surface and (not water or was_on_ground)) {
    // if downward velocity is low enough, exponentially dampen it!
    if (yvel &gt;= 0 and yvel &lt; 3)
        yvel = 0;
    on_ground = true;
    self.splashing = true;
}

if (self.splashing and not water and not water_surface) {
    self.splashing = false;
    if (yvel &lt; -water_exit_vel) 
        yvel = -water_exit_vel;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// dampen velocities depending on conditions

// dampen terminal velocity based on xvel
self.terminal_yvel = 4;

if (abs(self.xvel) &gt; 2) {
    self.terminal_vel = 2;
}

// dampen xvel depending on whether we're on water or ground
self.terminal_xvel = 2.5;
self.xacc = 0.1;
if (not water and not water_surface and on_ground) {
    self.terminal_xvel = 1;
    self.xacc = 0.5;
    self.was_on_dirt = true;
} else if (water or water_surface) {
    self.was_on_dirt = false;
} else if (self.was_on_dirt) {
    self.terminal_xvel = 1.5;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="o_player">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// assign the player's mount variable to the frog friend!
if (other.mode != "riding") {
    other.mount = self;
    other.mode = "riding";
    audio_play_sound(snd_ridefrog, 0, false);
    if (!self.ami_singing) {
        audio_play_sound(snd_frogskater_song, 1, true);
    } 
    ami_singing = true;
    o_camera.mode = "track";
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
